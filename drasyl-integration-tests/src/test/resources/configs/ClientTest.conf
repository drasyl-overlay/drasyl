drasyl {
  # Writable storage location for the node identity. If there is no identity under this file path yet, an identity is created.
  # The file path must be absolute. If this field is left empty, the current execution path is used.
  identity.path = ""

  # Sets the WebSocket entry points to connect from outside to this node
  entry_points = ["wss://localhost:80", "wss://127.0.0.1:80"]

  server {
    # IP address that server should listen on.
    bind-host = "0.0.0.0"
    # Port that server should listen on. A port number of `0` means that the port number is automatically allocated.
    bind-port = 80

    # Sets the WebSocket entrypoint to connect from outside to this node server
    entry_point = "wss://localhost:80"
    # Sets the Channel Initalizer for netty
    channel_initializer = "org.drasyl.core.server.handler.NodeServerInitializer"
    # The maximum length of the aggregated content in bytes
    max_content_length = 1M
    # The maximum time a client has to sendMSG a
    # {@link city.sane.relay.common.messages.JoinMessage JoinMessage} before the
    # connection is closed again.
    max_handshake_timeout = 5 s
    ssl {
      enabled = true
      protocols = ["TLSv1.3", "TLSv1.2"]
    }
    # The size of the flush buffer, to minimize IO overhead.
    # A high value is good for throughput.
    # A low value is good for latency.
    flush_buffer_size = 256
    # For the total time, a connection can be in idle, you have to multiply
    # ${idle.max_idle_time}*${idle.retries}
    idle {
      # The maximum time that an active connection can spend in idle
      # before the relay checks with a PING request whether the remote station is still alive.
      # Note: every long value <= 0 s deactivates the idle function.
      timeout = 1 s
      # The maximum amount that a remote station cannot reply to a PING request
      # in succession in the interval ${max_idle_time}.
      # Min value is 1, max 32767
      retries = 1
    }
  }
}
